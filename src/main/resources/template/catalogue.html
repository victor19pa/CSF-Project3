<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:replace="index::head"></head>
<body>
<!-- Header -->
<header th:replace="index::header"></header>
<div class="container text-center mt-5 py-5">
    <h3>
        Newest products
    </h3>
    <hr class="mx-auto">
    <h5 >Categories:</h5>
    <div class="row">
        <div class="col-sm-12 align-content-center">
            <a class="align-content-center btn btn-warning border-danger"
               th:each="category: ${categories}"
               th:href="@{'/shop/'+${category.getName()}}"
               th:text="${category.getName()}"></a><p> </p>
        </div>
    </div>
</div>
<main>
    <div class="container-fluid mx-3 pt-5 mt-5">
        <div class="row ">
            <div th:each="product: ${products}" class="col-lg-3 col-md-4 col-sm-6 px-auto mb-4">
                <div class="card" style="width: 18rem;">
                    <img th:src="@{${'/products/'+product.getImage()}}" class="card-img-top" alt="product image" height="250px">
                    <div class="card-body text-center flex-column">
                        <h5 th:text="${product.getName()}"></h5>
                        <p class="small text-muted text-uppercase mb-2" th:text="${product.getCategory().getName()}"></p>
                        <hr>
                        <h6 class="mb-3">
                            <span class="text-danger mr-1" th:text="'$'+${product.getPrice()}"></span>
                        </h6>
                        <a th:href="@{'/addToCart/'+${product.getId()+'/qty/1'}}" class="btn btn-danger btn-sm mr-1 mb-2 mt-auto">Add to cart</a>
                        <a th:href="@{'/product/'+${product.getId()}}" class="btn btn-light btn-sm mr-1 mb-2 mt-auto">Details</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</main>

<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.3/dist/umd/popper.min.js" integrity="sha384-W8fXfP3gkOKtndU4JGtKDvXbO53Wy8SZCQHczT5FMiiqmQfUpWbYdTil/SxwZgAN" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/js/bootstrap.min.js" integrity="sha384-skAcpIdS7UcVUC05LJ9Dxay8AXcDYfBJqt1CJ85S/CFujBsIzCIv+l9liuYLaMQ/" crossorigin="anonymous"></script>
<footer th:replace="index::footer"></footer>
</body>
</html>

